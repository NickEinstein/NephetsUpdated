"use strict";(self.webpackChunktest_web=self.webpackChunktest_web||[]).push([[7343],{48877:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(43973);const r="/Reports",o=a.R.injectEndpoints({endpoints:e=>({getSkuStocks:e.query({query:e=>{const{productId:t}=e;return{url:"".concat(r,"/Get-Stocks-SKU/").concat(t),method:"GET"}}}),getStocksByLocation:e.query({query:e=>{const{locationId:t}=e;return{url:"".concat(r,"/Get-Stocks-Location/").concat(t),method:"GET"}}}),getProductBalances:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(r,"/Get-Products-Store-Balances"),method:"GET"}}}),getAllProductsBalance:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(r,"/Get-Products-Balances"),method:"GET"}}}),getAuditLogs:e.query({query:e=>{const{pageNo:t}=e;return console.log(t),{url:"".concat(r,"/Get-AuditLogs"),method:"GET",params:{pageNo:t}}}}),getTransactionLogs:e.query({query:e=>{const{From:t,To:s,filter:a}=e;return{url:"".concat(r,"/Get-TransactionLogs"),method:"GET",params:{From:t,To:s,filter:a}}}}),getRackBalance:e.query({query:e=>{const{RackId:t}=e;return{url:"".concat(r,"/Get-Rack-Balance/").concat(t),method:"GET"}}}),getReceivingLog:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(r,"/Receiving-Log"),method:"GET",params:{userType:t}}}}),getReleaseLog:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(r,"/Receiving-Log"),method:"GET",params:{userType:t}}}}),getMeasuringUnits:e.query({query:e=>({url:"".concat(r,"/Get-MeasureUnits"),method:"GET"})}),getStats:e.query({query:e=>({url:"".concat(r,"/super-admin/userStatsChart"),method:"GET"})})})})},23665:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(17205),r=s(72791),o=s(34045),n=s(80184);const l=e=>{let{data:t,header:s}=e,l=[];(0,r.useEffect)((()=>{l=t}),[t]);const c=s.map((e=>({title:null===e||void 0===e?void 0:e.toUpperCase(),dataIndex:e.toLowerCase(),key:e})));return(0,n.jsx)("div",{children:(0,n.jsx)(a.Z,{type:"primary",onClick:()=>{const e=o.P6.aoa_to_sheet([c.map((e=>({t:"s",v:e.title,s:{font:{bold:!0}}}))),...l.map((e=>c.map((t=>e[t.dataIndex]))))]),t=o.P6.book_new();o.P6.book_append_sheet(t,e,"Sheet1"),o.NC(t,"exported-data.xlsx")},children:"Export to Excel"})})}},87343:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var a=s(72791),r=s(75017),o=s(17205),n=s(21680),l=s(19773),c=s(24390),d=s(69963),i=s(9827),u=s(60807),m=s(56650),x=s(4565),h=s(48928),p=s(70393),y=s(8152),g=s(48877),v=s(72426),j=s.n(v),f=s(82686),b=s(23665),Z=s(80184);const T=()=>{const[e,t]=(0,a.useState)(1),[s,v]=(0,a.useState)(),[T,q]=(0,a.useState)(),[G,k]=(0,a.useState)(""),{enqueueSnackbar:S}=(0,p.Ds)(),[E,L]=a.useState({store:"",field2:"",field3:"",field4:"",field5:"",field6:"",selectField:""}),N=g.Z.useGetTransactionLogsQuery({From:s,To:T,filter:G}).data,P=y.Z.useGetStoreQuery({});null===P||void 0===P||P.data;let w=null===N||void 0===N?void 0:N.map((e=>({user:null===e||void 0===e?void 0:e.username,date:j()(null===e||void 0===e?void 0:e.date).format("ll"),activity:null===e||void 0===e?void 0:e.activity})));return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(x.Z,{className:"text-center font-bold my-5",variant:"h3",children:"Transaction Logs"}),(0,Z.jsx)("div",{className:"flex flex-col gap-6 items-start",children:(0,Z.jsxs)(h.Z,{title:"",className:"px-8 py-4 w-full bg-black rounded-2xl flex flex-col gap-6 items-start",children:[(0,Z.jsxs)("div",{class:"flex justify-between items-center w-full",children:[(0,Z.jsxs)("div",{className:"flex items-center",children:[(0,Z.jsx)(b.Z,{data:w,header:["#","User","Date","Activity"]}),(0,Z.jsx)(o.Z,{className:"ml-4",children:"PDF"})]}),(0,Z.jsxs)("div",{class:"flex gap-6",children:[(0,Z.jsx)(f.M,{toolbarPlaceholder:"ji",disableFuture:!0,value:s,onChange:e=>{console.log(e),v(e)},renderInput:e=>(0,Z.jsx)(r.Z,{size:"small",margin:"dense",...e})}),(0,Z.jsx)(f.M,{toolbarPlaceholder:"ji",disablePast:!0,value:T,onChange:e=>{q(e)},renderInput:e=>(0,Z.jsx)(r.Z,{size:"small",margin:"dense",...e})})]})]}),(0,Z.jsx)(d.Z,{component:m.Z,children:(0,Z.jsxs)(n.Z,{children:[(0,Z.jsx)(i.Z,{children:(0,Z.jsxs)(u.Z,{className:"font-bold",children:[(0,Z.jsx)(c.Z,{className:"font-bold text-base",children:"#"}),(0,Z.jsx)(c.Z,{className:"font-bold text-base",children:"User"}),(0,Z.jsx)(c.Z,{className:"font-bold text-base",children:"Date"}),(0,Z.jsx)(c.Z,{className:"font-bold text-base",children:"Action"})]})}),(0,Z.jsx)(l.Z,{children:null===N||void 0===N?void 0:N.map(((e,t)=>(0,Z.jsxs)(u.Z,{className:e.balance<=e.reOrderLevel&&"bg-red-300 animate-pulse",children:[(0,Z.jsx)(c.Z,{children:t+1}),(0,Z.jsx)(c.Z,{children:e.username}),(0,Z.jsx)(c.Z,{children:j()(e.date).format("YYYY-MM-DD")}),(0,Z.jsx)(c.Z,{children:e.activity})]},e.id)))})]})})]})})]})}}}]);
//# sourceMappingURL=7343.328564be.chunk.js.map