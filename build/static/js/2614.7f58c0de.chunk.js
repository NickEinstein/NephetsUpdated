"use strict";(self.webpackChunktest_web=self.webpackChunktest_web||[]).push([[2614],{573:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(43973);const a="/rack",n=s.R.injectEndpoints({endpoints:e=>({productRack:e.mutation({query:e=>({url:"".concat(a,"/Product-Rack"),method:"PUT",...e})}),createRacks:e.mutation({query:e=>({url:"".concat(a,"/"),method:"POST",...e})}),getRack:e.query({query:e=>{const{reloadItems:t}=e;return{url:"".concat(a),method:"GET"}}}),getRackShelves:e.query({query:e=>{const{reloadItems:t}=e;return{url:"".concat(a,"/shelves"),method:"GET"}}}),getShelvesByRackId:e.query({query:e=>{const{id:t}=e;return{url:"".concat(a,"/").concat(t),method:"GET"}}}),getShelves:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/shelves"),method:"GET"}}}),getProductsByRack:e.query({query:e=>{const{RackId:t}=e;return{url:"".concat(a,"/Rack-Products/").concat(t),method:"GET"}}}),getStats:e.query({query:e=>({url:"".concat(a,"/super-admin/userStatsChart"),method:"GET"})})})})},98267:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(43973);const a="/req",n=s.R.injectEndpoints({endpoints:e=>({confirmRelease:e.mutation({query:e=>({url:"".concat(a,"/confirm-release"),method:"POST",...e})}),approval:e.mutation({query:e=>({url:"".concat(a,"/approval"),method:"POST",...e})}),request:e.mutation({query:e=>({url:"".concat(a,"/request"),method:"POST",...e})}),getRequest:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/"),method:"GET"}}}),getRequestDetail:e.query({query:e=>{const{RequestCode:t}=e;return{url:"".concat(a,"/Get-Request-Detail/").concat(t),method:"GET"}}}),getReleasedStocks:e.query({query:e=>{const{RequestCode:t}=e;return{url:"".concat(a,"/Get-Released-Stocks/").concat(t),method:"GET"}}}),getTagging:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/"),method:"GET"}}}),getPendingRelease:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/Pending-Release"),method:"GET"}}}),getProcessedApprovalRequest:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/Get-Processed-Approval-Requests"),method:"GET"}}}),getCategories:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/category"),method:"GET"}}})})})},35518:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(43973);const a="/returns",n=s.R.injectEndpoints({endpoints:e=>({returnStock:e.mutation({query:e=>({url:"".concat(a),method:"POST",...e})}),returnIntake:e.mutation({query:e=>({url:"".concat(a,"/Return-Intake"),method:"POST",...e})}),getStocksReturning:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(a,"/"),method:"GET"}}})})})},21049:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(43973);const a="/stocks",n=s.R.injectEndpoints({endpoints:e=>({stockIntake:e.mutation({query:e=>({url:"".concat(a,"/intake"),method:"POST",...e})}),stockTransferIntake:e.mutation({query:e=>({url:"".concat(a,"/Transfer-Intake"),method:"POST",...e})}),stockOutbound:e.mutation({query:e=>({url:"".concat(a,"/Outbound"),method:"POST",...e})}),getIntakes:e.query({query:e=>({url:"".concat(a,"/intakes"),method:"GET"})})})})},62614:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var s=l(72791),a=l(75017),n=l(81346),r=l(24020),o=l(81898),d=l(17205),c=l(21680),i=l(19773),u=l(24390),h=l(69963),m=l(9827),v=l(60807),x=l(56650),j=l(4565),Z=l(48928),f=l(71747),y=l(97008),p=l(98267),q=(l(21049),l(8152)),g=l(573),w=l(70393),R=l(60676),k=l(35518),N=l(80184);const S=()=>{var e,t,l;const S=(0,R.Z)();console.log(S);const[b,T]=s.useState({shelfCode:"",productBarcode:"",quantity:"",comment:"",requestCode:""}),{enqueueSnackbar:C}=(0,w.Ds)(),[P,I]=s.useState(),[G,E]=s.useState([]),[O,Q]=s.useState(),[W,B]=s.useState(!1),A=g.Z.useGetRackQuery({}),D=(null===A||void 0===A?void 0:A.data)||[],M=g.Z.useGetShelvesByRackIdQuery({id:b.rack}),U=(null===M||void 0===M?void 0:M.data)||[],H=q.Z.useGetStoreProductsQuery({TaggingId:P}),F=(null===H||void 0===H?void 0:H.data)||[],[L,_]=k.Z.useReturnStockMutation(),z=p.Z.useGetRequestQuery({}),J=(null===z||void 0===z?void 0:z.data)||[],K=p.Z.useGetRequestDetailQuery({RequestCode:O}),V=(null===K||void 0===K?void 0:K.data)||[],X=e=>{const{name:t,value:l}=e.target;T({...b,[t]:l})};let Y=0;console.log(G);return(0,N.jsxs)("div",{children:[(0,N.jsx)(j.Z,{className:"text-center font-bold my-5",variant:"h4",children:"Stock Return"}),(0,N.jsx)("div",{className:"flex gap-6",children:(0,N.jsx)(Z.Z,{title:"",className:"px-8 py-4 w-full bg-black rounded-2xl",children:(0,N.jsxs)("div",{className:"flex gap-8",children:[(0,N.jsxs)("form",{className:"flex flex-col gap-4 w-2/5",onSubmit:e=>{e.preventDefault()},children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(j.Z,{className:"text-white",children:"Reason for Stock Return"}),(0,N.jsx)(o.Z,{fullWidth:!0,children:(0,N.jsxs)(n.Z,{className:"bg-white",name:"reason",value:b.reason,onChange:X,children:[(0,N.jsx)("select",{class:"form-control","data-val":"true","data-val-required":"Please specify reason.",id:"Reason",name:"Reason"}),(0,N.jsx)(r.Z,{value:"0",children:"Surplus"}),(0,N.jsx)(r.Z,{value:"1",children:"WrongRequest"}),(0,N.jsx)(r.Z,{value:"2",children:"Faulty"}),(0,N.jsx)(r.Z,{value:"3",children:"Unsable"}),(0,N.jsx)(r.Z,{value:"4",children:"CriticalNeed"}),(0,N.jsx)(r.Z,{value:"5",children:"Repair"}),(0,N.jsx)(r.Z,{value:"6",children:"ReAllocation"})]})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(j.Z,{className:"text-white",children:"HQ return or Local Store Return"}),(0,N.jsx)(o.Z,{fullWidth:!0,children:(0,N.jsxs)(n.Z,{className:"bg-white",name:"store",value:b.store,onChange:X,children:[(0,N.jsx)(r.Z,{value:"",children:"Please select a destination"}),(0,N.jsx)(r.Z,{value:"1",children:"HQ return"}),(0,N.jsx)(r.Z,{value:"0",children:"Local Store return"})]})})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(j.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Request Code"}),(0,N.jsx)(o.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(n.Z,{className:"bg-white w-full",name:"reqCode",value:b.reqCode,onChange:e=>{X(e),Q(e.target.value)},children:null===J||void 0===J||null===(e=J.filter((e=>6==e.status&&(null===S||void 0===S?void 0:S.locationId)==(null===e||void 0===e?void 0:e.locationId))))||void 0===e?void 0:e.map((e=>(0,N.jsx)(r.Z,{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.code})))})})]}),(0,N.jsxs)("div",{className:" gap-4",children:[(0,N.jsx)(j.Z,{className:"text-white",children:"Please enter comments"}),(0,N.jsx)(f.Z,{className:"rounded p-3 text-black",name:"comment",minRows:5,maxRows:6,placeholder:"Enter your text here...",onChange:X,value:b.comment,style:{width:"100%"}})]}),(0,N.jsx)(d.Z,{onClick:async()=>{let e={requestCode:O,reason:+b.reason,note:b.comment,items:[...G]};console.log(e);try{const t=await L({data:e}).unwrap();console.log(t),t.message?C(t.message,{variant:"error"}):C("Returned successfully",{variant:"success"})}catch(t){console.log(t.data),C(null===t||void 0===t?void 0:t.data,"",{variant:"error"})}},children:"Post"})]}),(0,N.jsxs)("div",{className:"flex flex-col gap-4 w-3/5",children:[(0,N.jsx)(j.Z,{className:"text-white",variant:"h6",children:"Please select Items to return"}),(0,N.jsx)(j.Z,{className:"text-white",children:"Scanned items valid for return will be listed below. Stock items will be listed based on destination selected. Stock will be returned to project type it was created in."}),(0,N.jsx)(j.Z,{className:"text-white",children:"For HQ return the item must be in the BU store with stock status \u2018In-Store\u2019 (Items already taken into the BU store)."}),(0,N.jsxs)("div",{className:"flex gap-6",children:[(0,N.jsx)("div",{className:"flex justify-between gap-8 w-full",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(j.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Rack"}),(0,N.jsx)(o.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(y.Z,{className:"m-2",disablePortal:!0,onChange:(e,t)=>T({...b,rack:null===t||void 0===t?void 0:t.id}),options:null===D||void 0===D?void 0:D.map((e=>({label:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e.id}))),sx:{minWidth:200},renderInput:e=>(0,N.jsx)(a.Z,{...e})})})]})}),(0,N.jsx)("div",{className:"flex justify-between gap-8 w-full",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(j.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Shelf"}),(0,N.jsx)(o.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(y.Z,{className:"m-2",disablePortal:!0,onChange:(e,t)=>T({...b,shelfCode:null===t||void 0===t?void 0:t.id}),options:null===(t=(null===U||void 0===U?void 0:U.shelves)||[])||void 0===t?void 0:t.map((e=>({label:null===e||void 0===e?void 0:e.label,id:null===e||void 0===e?void 0:e.id}))),sx:{minWidth:200},renderInput:e=>(0,N.jsx)(a.Z,{...e})})})]})}),(0,N.jsx)("div",{className:"flex justify-between gap-8 w-full",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(j.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Product"}),(0,N.jsx)(o.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(n.Z,{className:"bg-white w-full",name:"productId",value:b.productId,onChange:X,children:null===V||void 0===V||null===(l=V.requestedItems)||void 0===l?void 0:l.map((e=>{var t;return(0,N.jsx)(r.Z,{value:null===F||void 0===F||null===(t=F.find((t=>(null===e||void 0===e?void 0:e.name)===(null===t||void 0===t?void 0:t.name))))||void 0===t?void 0:t.id,children:null===e||void 0===e?void 0:e.name})}))})})]})}),(0,N.jsx)("div",{className:"flex justify-between gap-8  w-full",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(j.Z,{className:"text-white mb-2 ml-3 w-full",children:"Quantity"}),(0,N.jsx)(o.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(a.Z,{className:"bg-white rounded-full",name:"quantity",value:b.quantity,onChange:X,fullWidth:!0,placeholder:"Click to input Quantity"})})]})})]}),(0,N.jsx)(d.Z,{className:"mt-4",onClick:()=>{Y+=1;let e={id:G.length+1,productId:+b.productId,quantity:+b.quantity,shelfId:b.shelfCode};console.log(e);let t=[];t=[...t,e],b.productId&&b.quantity?E([...G,e]):C("Please make sure all fields are duefully filled",{variant:"error"})},children:"Add"}),(0,N.jsx)(h.Z,{component:x.Z,children:(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(m.Z,{children:(0,N.jsxs)(v.Z,{children:[(0,N.jsx)(u.Z,{children:"#"}),(0,N.jsx)(u.Z,{children:"Product Barcode"}),(0,N.jsx)(u.Z,{children:"Quantity"}),(0,N.jsx)(u.Z,{children:"Shelf"}),(0,N.jsx)(u.Z,{children:"Action"})]})}),(0,N.jsx)(i.Z,{children:G.map(((e,t)=>(0,N.jsxs)(v.Z,{children:[(0,N.jsx)(u.Z,{children:t+1}),(0,N.jsx)(u.Z,{children:F.find((t=>t.id==e.productId)).name}),(0,N.jsx)(u.Z,{children:e.quantity}),(0,N.jsx)(u.Z,{children:null===U||void 0===U?void 0:U.shelves.find((t=>t.id==e.shelfId)).label}),(0,N.jsx)(u.Z,{onClick:()=>(e=>{const t=G.filter((t=>t.id!==e.id));E(t)})(e),className:"text-red-400 cursor-pointer",children:"Remove"})]},t)))})]})})]})]})})})]})}},48928:(e,t,l)=>{l.d(t,{Z:()=>j});var s=l(87462),a=l(63366),n=l(72791),r=l(28182),o=l(94419),d=l(76863),c=l(67254),i=l(56650),u=l(21217);function h(e){return(0,u.Z)("MuiCard",e)}(0,l(75878).Z)("MuiCard",["root"]);var m=l(80184);const v=["className","raised"],x=(0,d.ZP)(i.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),j=n.forwardRef((function(e,t){const l=(0,c.Z)({props:e,name:"MuiCard"}),{className:n,raised:d=!1}=l,i=(0,a.Z)(l,v),u=(0,s.Z)({},l,{raised:d}),j=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},h,t)})(u);return(0,m.jsx)(x,(0,s.Z)({className:(0,r.Z)(j.root,n),elevation:d?8:void 0,ref:t,ownerState:u},i))}))}}]);
//# sourceMappingURL=2614.7f58c0de.chunk.js.map