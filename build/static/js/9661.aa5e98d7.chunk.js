"use strict";(self.webpackChunktest_web=self.webpackChunktest_web||[]).push([[9661],{573:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(43973);const c="/rack",a=r.R.injectEndpoints({endpoints:e=>({productRack:e.mutation({query:e=>({url:"".concat(c,"/Product-Rack"),method:"PUT",...e})}),createRacks:e.mutation({query:e=>({url:"".concat(c,"/"),method:"POST",...e})}),getRack:e.query({query:e=>{const{reloadItems:t}=e;return{url:"".concat(c),method:"GET"}}}),getRackShelves:e.query({query:e=>{const{reloadItems:t}=e;return{url:"".concat(c,"/shelves"),method:"GET"}}}),getShelvesByRackId:e.query({query:e=>{const{id:t}=e;return{url:"".concat(c,"/").concat(t),method:"GET"}}}),getShelves:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(c,"/shelves"),method:"GET"}}}),getProductsByRack:e.query({query:e=>{const{RackId:t}=e;return{url:"".concat(c,"/Rack-Products/").concat(t),method:"GET"}}}),getStats:e.query({query:e=>({url:"".concat(c,"/super-admin/userStatsChart"),method:"GET"})})})})},98267:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(43973);const c="/req",a=r.R.injectEndpoints({endpoints:e=>({confirmRelease:e.mutation({query:e=>({url:"".concat(c,"/confirm-release"),method:"POST",...e})}),approval:e.mutation({query:e=>({url:"".concat(c,"/approval"),method:"POST",...e})}),request:e.mutation({query:e=>({url:"".concat(c,"/request"),method:"POST",...e})}),getRequest:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(c,"/"),method:"GET"}}}),getRequestDetail:e.query({query:e=>{const{RequestCode:t}=e;return{url:"".concat(c,"/Get-Request-Detail/").concat(t),method:"GET"}}}),getReleasedStocks:e.query({query:e=>{const{RequestCode:t}=e;return{url:"".concat(c,"/Get-Released-Stocks/").concat(t),method:"GET"}}}),getTagging:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(c,"/"),method:"GET"}}}),getPendingRelease:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(c,"/Pending-Release"),method:"GET"}}}),getProcessedApprovalRequest:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(c,"/Get-Processed-Approval-Requests"),method:"GET"}}}),getCategories:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(c,"/category"),method:"GET"}}})})})},21049:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(43973);const c="/stocks",a=r.R.injectEndpoints({endpoints:e=>({stockIntake:e.mutation({query:e=>({url:"".concat(c,"/intake"),method:"POST",...e})}),stockTransferIntake:e.mutation({query:e=>({url:"".concat(c,"/Transfer-Intake"),method:"POST",...e})}),stockOutbound:e.mutation({query:e=>({url:"".concat(c,"/Outbound"),method:"POST",...e})}),getIntakes:e.query({query:e=>({url:"".concat(c,"/intakes"),method:"GET"})})})})},69661:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var r=s(72791),c=s(17205),a=s(21680),o=s(19773),n=s(24390),l=s(69963),d=s(9827),u=s(60807),i=s(56650),m=s(4565),h=s(48928),x=s(8152),y=(s(21049),s(573),s(98267)),q=s(70393),v=s(38089),p=(s(5384),s(95048)),Z=s(80184);const j=()=>{var e;(0,p.I0)();const[t,s]=r.useState({shelfCode:"",productBarcode:"",quantity:"",comment:"",requestCode:""}),{enqueueSnackbar:j}=(0,q.Ds)(),[R,f]=r.useState(0),[k,g]=r.useState([]),[T,b]=r.useState(),[N,S]=r.useState(),[w,C]=r.useState(!1),[G,E]=y.Z.useConfirmReleaseMutation(),P=y.Z.useGetRequestQuery({TaggingId:R}),I=null===P||void 0===P?void 0:P.data,M=y.Z.useGetRequestDetailQuery({RequestCode:T}),O=null===M||void 0===M?void 0:M.data,[A,B]=x.Z.useReceiveStockMutation();console.log(k);return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(m.Z,{className:"text-center font-bold my-5",variant:"h4",children:"Material Acceptance"}),(0,Z.jsx)(h.Z,{className:"p-5 bg-black text-white",children:(0,Z.jsxs)(i.Z,{elevation:3,children:[!w&&(0,Z.jsx)(l.Z,{component:i.Z,children:(0,Z.jsxs)(a.Z,{children:[(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(u.Z,{children:[(0,Z.jsx)(n.Z,{className:"font-bold text-base",children:"#"}),(0,Z.jsx)(n.Z,{className:"font-bold text-base",children:"Code"}),(0,Z.jsx)(n.Z,{className:"font-bold text-base",children:"Message"}),(0,Z.jsx)(n.Z,{className:"font-bold text-base",children:"Requested By"}),(0,Z.jsx)(n.Z,{className:"font-bold text-base",children:"Released By"}),(0,Z.jsx)(n.Z,{className:"font-bold text-base",children:"Action"})]})}),(0,Z.jsx)(o.Z,{children:null===I||void 0===I?void 0:I.filter((e=>5===e.status)).map(((e,t)=>(0,Z.jsxs)(u.Z,{children:[(0,Z.jsx)(n.Z,{children:t+1}),(0,Z.jsx)(n.Z,{children:e.code}),(0,Z.jsx)(n.Z,{children:e.message}),(0,Z.jsx)(n.Z,{children:e.receiverId}),(0,Z.jsx)(n.Z,{children:e.userId}),(0,Z.jsx)(n.Z,{onClick:()=>{(e=>{b(e.code),S(e),console.log(e.code)})(e),C(!w)},className:"text-red-400 cursor-pointer",children:"Accept"})]},e.id)))})]})}),w&&(0,Z.jsxs)("div",{className:"text-white mt-8 bg-black px-[20%]",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-1 text-white cursor-pointer",onClick:()=>{C(!w)},children:[(0,Z.jsx)(v.Z,{}),(0,Z.jsx)(m.Z,{className:"font-bold",children:"Back"})]}),(0,Z.jsx)(m.Z,{variant:"h5",className:"font-bold mb-5 text-center",children:"Requested Items"}),(0,Z.jsxs)("div",{className:"flex justify-between items-center text-white",children:[(0,Z.jsx)("div",{className:"text-white",children:(0,Z.jsx)("p",{className:"text-base font-bold",children:"Product"})}),(0,Z.jsx)("div",{className:"text-center",children:(0,Z.jsx)("p",{className:"text-base font-bold",children:"Quantity"})})]}),null===O||void 0===O||null===(e=O.requestedItems)||void 0===e?void 0:e.map((e=>(0,Z.jsxs)("div",{className:"flex justify-between items-center text-white",children:[(0,Z.jsx)("div",{className:"text-white",children:(0,Z.jsx)("p",{className:"text-white mt-1 text-center",children:null===e||void 0===e?void 0:e.name})}),(0,Z.jsx)("div",{className:"text-center",children:(0,Z.jsx)("p",{className:"text-white mt-1 ",children:null===e||void 0===e?void 0:e.quantity})})]}))),(0,Z.jsx)(c.Z,{className:"mt-3 w-full p-3",onClick:()=>{(async e=>{let t={requestId:e};console.log(t);try{await G({data:t}).unwrap(),f((e=>e+1)),j("Release Confirmed Successfully",{variant:"success"})}catch(s){console.log(s),j(null===s||void 0===s?void 0:s.data,"Failed to login",{variant:"error"})}})(null===N||void 0===N?void 0:N.id)},children:"Accept"})]})]})})]})}},38089:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(40233),c=s(80184);const a=(0,r.Z)((0,c.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackTwoTone")},48928:(e,t,s)=>{s.d(t,{Z:()=>q});var r=s(87462),c=s(63366),a=s(72791),o=s(28182),n=s(94419),l=s(76863),d=s(67254),u=s(56650),i=s(21217);function m(e){return(0,i.Z)("MuiCard",e)}(0,s(75878).Z)("MuiCard",["root"]);var h=s(80184);const x=["className","raised"],y=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),q=a.forwardRef((function(e,t){const s=(0,d.Z)({props:e,name:"MuiCard"}),{className:a,raised:l=!1}=s,u=(0,c.Z)(s,x),i=(0,r.Z)({},s,{raised:l}),q=(e=>{const{classes:t}=e;return(0,n.Z)({root:["root"]},m,t)})(i);return(0,h.jsx)(y,(0,r.Z)({className:(0,o.Z)(q.root,a),elevation:l?8:void 0,ref:t,ownerState:i},u))}))}}]);
//# sourceMappingURL=9661.aa5e98d7.chunk.js.map