"use strict";(self.webpackChunktest_web=self.webpackChunktest_web||[]).push([[7702],{48877:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(43973);const n="/Reports",i=a.R.injectEndpoints({endpoints:e=>({getSkuStocks:e.query({query:e=>{const{productId:t}=e;return{url:"".concat(n,"/Get-Stocks-SKU/").concat(t),method:"GET"}}}),getStocksByLocation:e.query({query:e=>{const{locationId:t}=e;return{url:"".concat(n,"/Get-Stocks-Location/").concat(t),method:"GET"}}}),getProductBalances:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/Get-Products-Store-Balances"),method:"GET"}}}),getAllProductsBalance:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/Get-Products-Balances"),method:"GET"}}}),getAuditLogs:e.query({query:e=>{const{pageNo:t}=e;return console.log(t),{url:"".concat(n,"/Get-AuditLogs"),method:"GET",params:{pageNo:t}}}}),getTransactionLogs:e.query({query:e=>{const{From:t,To:r,filter:a}=e;return{url:"".concat(n,"/Get-TransactionLogs"),method:"GET",params:{From:t,To:r,filter:a}}}}),getRackBalance:e.query({query:e=>{const{RackId:t}=e;return{url:"".concat(n,"/Get-Rack-Balance/").concat(t),method:"GET"}}}),getReceivingLog:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/Receiving-Log"),method:"GET",params:{userType:t}}}}),getReleaseLog:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/Receiving-Log"),method:"GET",params:{userType:t}}}}),getMeasuringUnits:e.query({query:e=>({url:"".concat(n,"/Get-MeasureUnits"),method:"GET"})}),getStats:e.query({query:e=>({url:"".concat(n,"/super-admin/userStatsChart"),method:"GET"})})})})},98267:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(43973);const n="/req",i=a.R.injectEndpoints({endpoints:e=>({confirmRelease:e.mutation({query:e=>({url:"".concat(n,"/confirm-release"),method:"POST",...e})}),approval:e.mutation({query:e=>({url:"".concat(n,"/approval"),method:"POST",...e})}),request:e.mutation({query:e=>({url:"".concat(n,"/request"),method:"POST",...e})}),getRequest:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/"),method:"GET"}}}),getRequestDetail:e.query({query:e=>{const{RequestCode:t}=e;return{url:"".concat(n,"/Get-Request-Detail/").concat(t),method:"GET"}}}),getReleasedStocks:e.query({query:e=>{const{RequestCode:t}=e;return{url:"".concat(n,"/Get-Released-Stocks/").concat(t),method:"GET"}}}),getTagging:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/"),method:"GET"}}}),getPendingRelease:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/Pending-Release"),method:"GET"}}}),getProcessedApprovalRequest:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/Get-Processed-Approval-Requests"),method:"GET"}}}),getCategories:e.query({query:e=>{const{userType:t}=e;return{url:"".concat(n,"/category"),method:"GET"}}})})})},21049:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(43973);const n="/stocks",i=a.R.injectEndpoints({endpoints:e=>({stockIntake:e.mutation({query:e=>({url:"".concat(n,"/intake"),method:"POST",...e})}),stockTransferIntake:e.mutation({query:e=>({url:"".concat(n,"/Transfer-Intake"),method:"POST",...e})}),stockOutbound:e.mutation({query:e=>({url:"".concat(n,"/Outbound"),method:"POST",...e})}),getIntakes:e.query({query:e=>({url:"".concat(n,"/intakes"),method:"GET"})})})})},47702:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var a=r(72791),n=r(75017),i=r(81898),o=r(17205),l=r(21680),s=r(19773),c=r(24390),d=r(69963),u=r(9827),m=r(60807),h=r(56650),p=r(4565),v=r(48928),g=r(97008),x=r(81872),f=r(8152),y=r(43973);const q="/users",Z=y.R.injectEndpoints({endpoints:e=>({getUser:e.query({query:e=>{const{id:t}=e;return{url:"".concat(q,"/Location/").concat(t),method:"GET"}}}),getStats:e.query({query:e=>({url:"".concat(q,"/super-admin/userStatsChart"),method:"GET"})})})});r(21049);var b=r(98267),w=r(70393),j=r(48877),T=r(60676),N=r(80184);const S=()=>{var e,t,r;const[y,q]=a.useState({quantity:"",message:"",userId:22,requestType:"",code:""}),{enqueueSnackbar:S}=(0,w.Ds)(),R=(0,T.Z)(),[G,k]=a.useState(),[C,I]=a.useState([]),[E,P]=a.useState(null),[A,L]=a.useState(null),[B,W]=a.useState(null),[M,D]=a.useState(!1),Q=f.Z.useGetStoreLocationsQuery({}),U=(null===Q||void 0===Q||Q.data,f.Z.useGetStoreProductsQuery({TaggingId:G})),O=null===U||void 0===U?void 0:U.data,F=Z.useGetUserQuery({id:R.locationId}),V=null===F||void 0===F?void 0:F.data,[H,z]=b.Z.useRequestMutation(),_=j.Z.useGetProductBalancesQuery({TaggingId:G}),K=null===_||void 0===_?void 0:_.data,[X,Y]=f.Z.useReceiveStockMutation(),J=e=>{const{name:t,value:r}=e.target;q({...y,[t]:r})};let $=0;console.log(C);return(0,N.jsxs)("div",{children:[(0,N.jsx)(p.Z,{className:"text-center font-bold my-5",variant:"h4",children:"Stock Requisitions"}),(0,N.jsx)("div",{className:"flex gap-6",children:(0,N.jsxs)(v.Z,{title:"",className:"px-8 py-4 w-full bg-black rounded-2xl",children:[(0,N.jsxs)("div",{className:"w-full flex gap-5 items-center",children:[(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(p.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Receiver"}),(0,N.jsx)(i.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(g.Z,{className:"m-2",value:A,disablePortal:!0,onChange:(e,t)=>{q({...y,userId:null===t||void 0===t?void 0:t.id}),L(t)},options:null===(e=V||[])||void 0===e?void 0:e.map((e=>({label:null===e||void 0===e?void 0:e.description,id:null===e||void 0===e?void 0:e.description}))),sx:{minWidth:200},renderInput:e=>(0,N.jsx)(n.Z,{...e})})})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(p.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Request Type"}),(0,N.jsx)(i.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(g.Z,{value:B,className:"m-2",disablePortal:!0,onChange:(e,t)=>{q({...y,requestType:null===t||void 0===t?void 0:t.id}),W(t)},options:null===(t=[{name:"SRIN",description:"Material Utilisation Request (SRIN)",id:0},{name:"SRCNHQBU",description:"Material Transfer from HQ to Business Unit (SRCNHQBU)",id:1}]||[])||void 0===t?void 0:t.map((e=>({label:null===e||void 0===e?void 0:e.description,id:null===e||void 0===e?void 0:e.id}))),sx:{minWidth:200},renderInput:e=>(0,N.jsx)(n.Z,{...e})})})]})]}),(0,N.jsx)(i.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(n.Z,{className:"bg-white rounded-full mt-4",multiline:!0,rows:3,name:"message",value:y.message,onChange:J,fullWidth:!0,placeholder:"Input message"})}),(0,N.jsx)(x.Z,{className:"border text-white bg-white my-8"}),(0,N.jsx)("div",{className:"flex gap-8 mt-6",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("div",{className:"mb-5",children:[(0,N.jsx)(p.Z,{variant:"h4",className:"font-bold text-white text-center mb-6",children:"ADD ITEMS"}),(0,N.jsxs)("div",{className:"flex gap-6",children:[(0,N.jsx)("div",{className:"flex justify-between gap-8 w-1/2",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(p.Z,{className:"text-white mb-2 ml-3 w-full",children:"Select Product"}),(0,N.jsx)(i.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(g.Z,{value:E,className:"m-2",disablePortal:!0,onChange:(e,t)=>{q({...y,code:null===t||void 0===t?void 0:t.id}),P(t)},options:null===(r=K||[])||void 0===r?void 0:r.map((e=>({label:null===e||void 0===e?void 0:e.product,id:null===e||void 0===e?void 0:e.code}))),sx:{minWidth:200},renderInput:e=>(0,N.jsx)(n.Z,{...e})})})]})}),(0,N.jsx)("div",{className:"flex justify-between gap-8  w-1/2",children:(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)(p.Z,{className:"text-white mb-2 ml-3 w-full",children:"Quantity"}),(0,N.jsx)(i.Z,{className:"w-full",fullWidth:!0,children:(0,N.jsx)(n.Z,{className:"bg-white rounded-full",name:"quantity",value:y.quantity,onChange:J,fullWidth:!0,placeholder:"Click to input Quantity"})})]})})]}),(0,N.jsx)(o.Z,{className:"mt-4",onClick:()=>{var e;$+=1;let t={id:C.length+1,code:y.code,quantity:y.quantity,productName:null===(e=O.find((e=>e.code===y.code)))||void 0===e?void 0:e.name},r=[];r=[...r,t],I([...C,t]),q({...y,code:"",quantity:""}),P(null)},children:"Add"})]}),(0,N.jsx)(p.Z,{className:"text-center font-bold my-5 text-white",variant:"h5",children:"Item Details"}),(0,N.jsx)(d.Z,{component:h.Z,children:(0,N.jsxs)(l.Z,{children:[(0,N.jsx)(u.Z,{children:(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(c.Z,{className:"font-bold text-base",children:"#"}),(0,N.jsx)(c.Z,{className:"font-bold text-base",children:"Product"}),(0,N.jsx)(c.Z,{className:"font-bold text-base",children:"Product Code"}),(0,N.jsx)(c.Z,{className:"font-bold text-base",children:"Quantity"}),(0,N.jsx)(c.Z,{className:"font-bold text-base",children:"Action"})]})}),(0,N.jsx)(s.Z,{children:null===C||void 0===C?void 0:C.map(((e,t)=>(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(c.Z,{children:t+1}),(0,N.jsx)(c.Z,{children:e.productName}),(0,N.jsx)(c.Z,{children:e.code}),(0,N.jsx)(c.Z,{children:e.quantity}),(0,N.jsx)(c.Z,{onClick:()=>(e=>{const t=C.filter((t=>t.id!==e.id));I(t)})(e),className:"text-red-400 cursor-pointer",children:"Remove"})]},t)))})]})})]})}),(0,N.jsxs)(o.Z,{variant:"contained",className:"p-3 w-full bg-[#2BDF27] flex justify-center gap-9 items-center text-base my-6",onClick:async()=>{let e={maintenanceCode:"string",receiver:y.userId,message:y.message,reqType:y.requestType,projectTypeId:1,priority:1,projectId:1,materials:C};console.log(e),D(!0);try{await H({data:e}).unwrap();S("Request sent",{variant:"success"}),q({quantity:"",message:"",userId:"",requestType:""}),I([]),L(null),W(null),D(!1)}catch(t){console.log(t),S(null===t||void 0===t?void 0:t.data,"Failed to login",{variant:"error"}),D(!1)}},children:[M&&(0,N.jsx)("div",{class:"flex items-center justify-center",children:(0,N.jsx)("div",{class:"border-t-4 border-white border-solid rounded-full animate-spin h-4 w-4"})}),"Confirm Requisition"]})]})})]})}},48928:(e,t,r)=>{r.d(t,{Z:()=>g});var a=r(87462),n=r(63366),i=r(72791),o=r(28182),l=r(94419),s=r(76863),c=r(67254),d=r(56650),u=r(21217);function m(e){return(0,u.Z)("MuiCard",e)}(0,r(75878).Z)("MuiCard",["root"]);var h=r(80184);const p=["className","raised"],v=(0,s.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),g=i.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,d=(0,n.Z)(r,p),u=(0,a.Z)({},r,{raised:s}),g=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"]},m,t)})(u);return(0,h.jsx)(v,(0,a.Z)({className:(0,o.Z)(g.root,i),elevation:s?8:void 0,ref:t,ownerState:u},d))}))},81872:(e,t,r)=>{r.d(t,{Z:()=>g});var a=r(63366),n=r(87462),i=r(72791),o=r(28182),l=r(94419),s=r(12065),c=r(76863),d=r(67254),u=r(87164),m=r(80184);const h=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,s.Fq)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat((t.vars||t).palette.divider),transform:"translateX(0%)"}})}),(e=>{let{ownerState:t}=e;return(0,n.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),v=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===r.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),g=i.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:c,component:g=(s?"div":"hr"),flexItem:x=!1,light:f=!1,orientation:y="horizontal",role:q=("hr"!==g?"separator":void 0),textAlign:Z="center",variant:b="fullWidth"}=r,w=(0,a.Z)(r,h),j=(0,n.Z)({},r,{absolute:i,component:g,flexItem:x,light:f,orientation:y,role:q,textAlign:Z,variant:b}),T=(e=>{const{absolute:t,children:r,classes:a,flexItem:n,light:i,orientation:o,textAlign:s,variant:c}=e,d={root:["root",t&&"absolute",c,i&&"light","vertical"===o&&"vertical",n&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,l.Z)(d,u.V,a)})(j);return(0,m.jsx)(p,(0,n.Z)({as:g,className:(0,o.Z)(T.root,c),role:q,ref:t,ownerState:j},w,{children:s?(0,m.jsx)(v,{className:T.wrapper,ownerState:j,children:s}):null}))}))}}]);
//# sourceMappingURL=7702.63ddc306.chunk.js.map