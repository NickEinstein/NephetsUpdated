"use strict";(self.webpackChunktest_web=self.webpackChunktest_web||[]).push([[6716],{96112:(e,a,t)=>{t.d(a,{Z:()=>r});var l=t(43973);const s="/category",r=l.R.injectEndpoints({endpoints:e=>({getCategory:e.query({query:e=>{const{userType:a}=e;return{url:"".concat(s),method:"GET"}}}),getStats:e.query({query:e=>({url:"".concat(s,"/super-admin/userStatsChart"),method:"GET"})})})})},48877:(e,a,t)=>{t.d(a,{Z:()=>r});var l=t(43973);const s="/Reports",r=l.R.injectEndpoints({endpoints:e=>({getSkuStocks:e.query({query:e=>{const{productId:a}=e;return{url:"".concat(s,"/Get-Stocks-SKU/").concat(a),method:"GET"}}}),getStocksByLocation:e.query({query:e=>{const{locationId:a}=e;return{url:"".concat(s,"/Get-Stocks-Location/").concat(a),method:"GET"}}}),getProductBalances:e.query({query:e=>{const{userType:a}=e;return{url:"".concat(s,"/Get-Products-Store-Balances"),method:"GET"}}}),getAllProductsBalance:e.query({query:e=>{const{userType:a}=e;return{url:"".concat(s,"/Get-Products-Balances"),method:"GET"}}}),getAuditLogs:e.query({query:e=>{const{pageNo:a}=e;return console.log(a),{url:"".concat(s,"/Get-AuditLogs"),method:"GET",params:{pageNo:a}}}}),getTransactionLogs:e.query({query:e=>{const{From:a,To:t,filter:l}=e;return{url:"".concat(s,"/Get-TransactionLogs"),method:"GET",params:{From:a,To:t,filter:l}}}}),getRackBalance:e.query({query:e=>{const{RackId:a}=e;return{url:"".concat(s,"/Get-Rack-Balance/").concat(a),method:"GET"}}}),getReceivingLog:e.query({query:e=>{const{userType:a}=e;return{url:"".concat(s,"/Receiving-Log"),method:"GET",params:{userType:a}}}}),getReleaseLog:e.query({query:e=>{const{userType:a}=e;return{url:"".concat(s,"/Receiving-Log"),method:"GET",params:{userType:a}}}}),getMeasuringUnits:e.query({query:e=>({url:"".concat(s,"/Get-MeasureUnits"),method:"GET"})}),getStats:e.query({query:e=>({url:"".concat(s,"/super-admin/userStatsChart"),method:"GET"})})})})},23665:(e,a,t)=>{t.d(a,{Z:()=>d});var l=t(17205),s=t(72791),r=t(34045),n=t(80184);const d=e=>{let{data:a,header:t}=e,d=[];(0,s.useEffect)((()=>{d=a}),[a]);const o=t.map((e=>({title:null===e||void 0===e?void 0:e.toUpperCase(),dataIndex:e.toLowerCase(),key:e})));return(0,n.jsx)("div",{children:(0,n.jsx)(l.Z,{type:"primary",onClick:()=>{const e=r.P6.aoa_to_sheet([o.map((e=>({t:"s",v:e.title,s:{font:{bold:!0}}}))),...d.map((e=>o.map((a=>e[a.dataIndex]))))]),a=r.P6.book_new();r.P6.book_append_sheet(a,e,"Sheet1"),r.NC(a,"exported-data.xlsx")},children:"Export to Excel"})})}},26716:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var l=t(72791),s=t(75017),r=t(81346),n=t(24020),d=t(81898),o=t(17205),i=t(21680),c=t(19773),u=t(24390),m=t(69963),v=t(9827),h=t(60807),x=t(56650),g=t(4565),j=t(48928),f=t(97008),p=t(96112),y=t(70393),Z=t(8152),b=t(48877),N=t(23665),w=t(43973);const C=w.R.injectEndpoints({endpoints:e=>({generateBarCode:e.mutation({query:e=>{let{path:a,...t}=e;return{url:"".concat("/inventory","/Generate-Barcode/").concat(a),method:"PUT"}}})})});var q=t(80184);const P=()=>{var e,a,t;const[w,P]=(0,l.useState)(0),{enqueueSnackbar:G}=(0,y.Ds)(),k=p.Z.useGetCategoryQuery({}),T=null===k||void 0===k?void 0:k.data,S=b.Z.useGetAllProductsBalanceQuery({refreshD:w}),L=null!==S&&void 0!==S&&S.data?null===(e=[...S.data])||void 0===e?void 0:e.reverse():[],E=b.Z.useGetMeasuringUnitsQuery({}),B=null===E||void 0===E?void 0:E.data,[I,R]=l.useState({categoryId:"",reOrderLevel:"",measureUnitId:"",name:"",unitPerPack:""}),[U,W]=l.useState([]),[_,D]=l.useState(!1),[F,M]=l.useState(null),[O,A]=l.useState(""),[Q,K]=Z.W.useCreateProductMutation(),[z,H]=C.useGenerateBarCodeMutation(),J=e=>{const{name:a,value:t}=e.target;R({...I,[a]:t})},V=async()=>{let e={...I,tagType:1,allowSplitIssuance:!0,allowPartialUtilisation:!0,allowPartialRelease:!0,isDeleted:!1,maximumRequisition:1e3,enableRequisition:!0};D(!0);try{if(L.find((e=>(null===e||void 0===e?void 0:e.name)==I.name)))return void G("Name already exists",{variant:"error"});if(null===I||void 0===I||!I.categoryId||null===I||void 0===I||!I.reOrderLevel||null===I||void 0===I||!I.measureUnitId||null===I||void 0===I||!I.name||null===I||void 0===I||!I.unitPerPack)return G("Please make sure all fields are populated",{variant:"error"}),void D(!1);await Q({data:e}).unwrap();G("Created successfully",{variant:"success"}),R({categoryId:"",reOrderLevel:"",measureUnitId:"",name:"",unitPerPack:""}),P((e=>e+1)),D(!1),M(null)}catch(a){G(null===a||void 0===a?void 0:a.message,"Failed to login",{variant:"error"}),D(!1)}};return(0,q.jsxs)("div",{children:[(0,q.jsx)(g.Z,{className:"text-center font-bold my-5",variant:"h4",children:"Item Creation"}),(0,q.jsx)("div",{className:" gap-6",children:(0,q.jsxs)(j.Z,{className:"px-8 py-4 w-full bg-black text-white rounded-2xl",children:[(0,q.jsxs)("form",{className:"flex flex-col gap-4  px-10",onSubmit:e=>{V(),e.preventDefault()},children:[(0,q.jsxs)("div",{className:"w-full mb-6 flex flex-col gap-4",children:[(0,q.jsx)("div",{className:"w-full mt-6",children:(0,q.jsxs)("div",{class:"flex gap-6 items-center",children:[(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsx)(g.Z,{children:"Product Category"}),(0,q.jsx)(d.Z,{className:"w-full",fullWidth:!0,children:(0,q.jsx)(f.Z,{value:F,className:"m-2",disablePortal:!0,onChange:(e,a)=>{R({...I,categoryId:null===a||void 0===a?void 0:a.id}),M(a)},options:null===(a=T||[])||void 0===a?void 0:a.map((e=>({label:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e.id}))),sx:{minWidth:200},renderInput:e=>(0,q.jsx)(s.Z,{...e})})})]}),(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsx)(g.Z,{children:"Reorder Level"}),(0,q.jsx)(s.Z,{className:"bg-white rounded-full",name:"reOrderLevel",value:I.reOrderLevel,onChange:J,fullWidth:!0})]})]})}),(0,q.jsxs)("div",{className:"flex gap-6",children:[(0,q.jsx)("div",{className:"w-full "}),(0,q.jsx)("div",{className:"w-full",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsx)(g.Z,{children:"Measure Unit Base"}),(0,q.jsx)(d.Z,{className:"w-full",fullWidth:!0,children:(0,q.jsx)(r.Z,{className:"bg-white w-full",name:"measureUnitId",value:I.measureUnitId,onChange:J,children:null===B||void 0===B?void 0:B.map((e=>(0,q.jsx)(n.Z,{value:null===e||void 0===e?void 0:e.baseUnitId,children:null===e||void 0===e?void 0:e.unit})))})})]})})]}),(0,q.jsxs)("div",{className:"flex gap-6",children:[(0,q.jsxs)("div",{className:"w-full ",children:[(0,q.jsx)(g.Z,{children:"Name"}),(0,q.jsx)(s.Z,{className:"bg-white rounded-full",name:"name",value:I.name,onChange:J,fullWidth:!0})]}),(0,q.jsxs)("div",{className:"w-full ",children:[(0,q.jsx)(g.Z,{children:"Unit Pack"}),(0,q.jsx)(s.Z,{className:"bg-white rounded-full",name:"unitPerPack",value:I.unitPerPack,onChange:J,fullWidth:!0})]})]})]}),(0,q.jsx)("div",{className:"flex gap-3 w-full justify-start mt-5",children:(0,q.jsxs)(o.Z,{type:"submit",variant:"contained",className:"p-3 w-full bg-[#2BDF27] flex justify-center gap-9 items-center text-base mb-6",children:[_&&(0,q.jsx)("div",{class:"flex items-center justify-center",children:(0,q.jsx)("div",{class:"border-t-4 border-white border-solid rounded-full animate-spin h-4 w-4"})}),"Save"]})})]}),(0,q.jsxs)("div",{class:"flex flex-between",children:[(0,q.jsxs)("div",{className:"flex items-center mt-6 mb-3",children:[(0,q.jsx)(N.Z,{data:L,header:["#","Product","Category","Code","Balance","reorderLevel"]}),(0,q.jsx)(o.Z,{className:"ml-4",children:"PDF"})]}),(0,q.jsx)(s.Z,{placeholder:"Search table",className:"",onChange:e=>function(e){A(e);let a=null===L||void 0===L?void 0:L.filter((a=>{var t,l;return null===a||void 0===a||null===(t=a.name)||void 0===t||null===(l=t.toLowerCase())||void 0===l?void 0:l.includes(null===e||void 0===e?void 0:e.toLowerCase())}));console.log(a),W(a)}(e.target.value)})]}),(0,q.jsx)(m.Z,{component:x.Z,children:(0,q.jsxs)(i.Z,{children:[(0,q.jsx)(v.Z,{children:(0,q.jsxs)(h.Z,{className:"font-bold",children:[(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"#"}),(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"Product"}),(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"Category"}),(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"Code"}),(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"Balance"}),(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"Reorder-level"}),(0,q.jsx)(u.Z,{className:"font-bold text-base",children:"Generate Bar Code"})]})}),(0,q.jsx)(c.Z,{children:null===(t=O.length>0?U:L)||void 0===t?void 0:t.map(((e,a)=>(0,q.jsxs)(h.Z,{children:[(0,q.jsx)(u.Z,{children:a+1}),(0,q.jsx)(u.Z,{children:e.name}),(0,q.jsx)(u.Z,{children:e.category}),(0,q.jsx)(u.Z,{children:e.code}),(0,q.jsx)(u.Z,{children:e.balance}),(0,q.jsxs)(u.Z,{children:[e.reOrderLevel," "]}),(0,q.jsx)(u.Z,{children:(0,q.jsx)(o.Z,{onClick:()=>(async e=>{try{await z({data:e,path:e.id}).unwrap(),G("Barcode Created successfully",{variant:"success"})}catch(t){var a;G(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,"Failed to login",{variant:"error"})}})(e),children:"Generate Barcode"})})]},e.id)))})]})})]})})]})}}}]);
//# sourceMappingURL=6716.bc5c47e7.chunk.js.map